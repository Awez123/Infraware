{
  "format_version": "1.0",
  "terraform_version": "1.5.0",
  "planned_values": {
    "root_module": {
      "resources": [
        {
          "address": "aws_vpc.main",
          "type": "aws_vpc",
          "name": "main",
          "values": {
            "cidr_block": "10.0.0.0/16",
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "tags": {
              "Name": "terraform-aws-vpc-example",
              "Environment": "production"
            }
          },
          "provider_name": "aws"
        },
        {
          "address": "aws_subnet.private",
          "type": "aws_subnet",
          "name": "private",
          "values": {
            "vpc_id": "vpc-12345678",
            "cidr_block": "10.0.1.0/24",
            "availability_zone": "eu-west-1a",
            "map_public_ip_on_launch": false,
            "tags": {
              "Name": "Private Subnet One",
              "Type": "private"
            }
          },
          "provider_name": "aws"
        },
        {
          "address": "aws_subnet.public",
          "type": "aws_subnet", 
          "name": "public",
          "values": {
            "vpc_id": "vpc-12345678",
            "cidr_block": "10.0.4.0/24",
            "availability_zone": "eu-west-1a",
            "map_public_ip_on_launch": true,
            "tags": {
              "Name": "Public Subnet One",
              "Type": "public"
            }
          },
          "provider_name": "aws"
        },
        {
          "address": "aws_nat_gateway.main",
          "type": "aws_nat_gateway",
          "name": "main",
          "values": {
            "subnet_id": "subnet-12345678",
            "allocation_id": "eipalloc-12345678",
            "tags": {
              "Name": "NAT Gateway"
            }
          },
          "provider_name": "aws"
        },
        {
          "address": "aws_security_group.rds",
          "type": "aws_security_group",
          "name": "rds",
          "values": {
            "name": "ex-complete-rds",
            "description": "Allow PostgreSQL inbound traffic",
            "vpc_id": "vpc-12345678",
            "ingress": [
              {
                "description": "TLS from VPC",
                "from_port": 5432,
                "to_port": 5432,
                "protocol": "tcp",
                "cidr_blocks": ["10.0.0.0/16"]
              }
            ]
          },
          "provider_name": "aws"
        },
        {
          "address": "aws_vpc_endpoint.s3",
          "type": "aws_vpc_endpoint",
          "name": "s3",
          "values": {
            "service_name": "com.amazonaws.eu-west-1.s3",
            "vpc_id": "vpc-12345678",
            "private_dns_enabled": true,
            "tags": {
              "Name": "s3-vpc-endpoint"
            }
          },
          "provider_name": "aws"
        },
        {
          "address": "aws_vpc_endpoint.dynamodb",
          "type": "aws_vpc_endpoint",
          "name": "dynamodb",
          "values": {
            "service_name": "com.amazonaws.eu-west-1.dynamodb",
            "vpc_id": "vpc-12345678",
            "service_type": "Gateway",
            "tags": {
              "Name": "dynamodb-vpc-endpoint"
            }
          },
          "provider_name": "aws"
        },
        {
          "address": "aws_internet_gateway.main",
          "type": "aws_internet_gateway",
          "name": "main",
          "values": {
            "vpc_id": "vpc-12345678",
            "tags": {
              "Name": "Internet Gateway"
            }
          },
          "provider_name": "aws"
        }
      ]
    }
  },
  "resource_changes": [
    {
      "address": "aws_vpc.main",
      "type": "aws_vpc",
      "name": "main",
      "change": {
        "actions": ["create"],
        "after": {
          "cidr_block": "10.0.0.0/16",
          "enable_dns_hostnames": true,
          "enable_dns_support": true
        }
      }
    },
    {
      "address": "aws_subnet.private",
      "type": "aws_subnet",
      "name": "private", 
      "change": {
        "actions": ["create"],
        "after": {
          "cidr_block": "10.0.1.0/24",
          "map_public_ip_on_launch": false
        }
      }
    },
    {
      "address": "aws_subnet.public",
      "type": "aws_subnet",
      "name": "public",
      "change": {
        "actions": ["create"],
        "after": {
          "cidr_block": "10.0.4.0/24",
          "map_public_ip_on_launch": true
        }
      }
    },
    {
      "address": "aws_nat_gateway.main",
      "type": "aws_nat_gateway",
      "name": "main",
      "change": {
        "actions": ["create"],
        "after": {}
      }
    },
    {
      "address": "aws_security_group.rds",
      "type": "aws_security_group",
      "name": "rds",
      "change": {
        "actions": ["create"],
        "after": {
          "ingress": [
            {
              "from_port": 5432,
              "to_port": 5432,
              "protocol": "tcp",
              "cidr_blocks": ["10.0.0.0/16"]
            }
          ]
        }
      }
    },
    {
      "address": "aws_vpc_endpoint.s3",
      "type": "aws_vpc_endpoint",
      "name": "s3",
      "change": {
        "actions": ["create"],
        "after": {
          "service_name": "com.amazonaws.eu-west-1.s3"
        }
      }
    },
    {
      "address": "aws_vpc_endpoint.dynamodb",
      "type": "aws_vpc_endpoint",
      "name": "dynamodb",
      "change": {
        "actions": ["create"],
        "after": {
          "service_name": "com.amazonaws.eu-west-1.dynamodb"
        }
      }
    },
    {
      "address": "aws_internet_gateway.main",
      "type": "aws_internet_gateway",
      "name": "main",
      "change": {
        "actions": ["create"],
        "after": {}
      }
    }
  ]
}